{"version":3,"sources":["webpack:///./src/hoc/Security/ObieeItemApprole.js"],"names":["useStyles","makeStyles","theme","root","minWidth","bullet","display","margin","transform","title","fontSize","pos","marginBottom","formControl","cardContent","padding","border","ObieeItemApprole","props","classes","mode","onAdd","onEdit","onCancel","onDelete","context","onExternalEvent","React","useContext","UserContext","useState","approle","name","approleName","setApproleName","description","approleDesc","setApproleDesc","baseRoles","length","approleType","setApproleType","type","appType","displayName","approleDisplayName","setApproleDisplayName","strApproleDisplayName","getText","strApproleName","strApproleType","strApproleDesc","strSave","strCancel","createRow","appId","validation","className","variant","container","spacing","item","xs","md","label","placeholder","fullWidth","error","validator","isAlpha","helperText","disabled","value","onChange","e","target","component","contains","id","onExecute","obieeDispatch","messageToShow","message","propTypes","PropTypes","oneOf","isRequired"],"mappings":"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","file":"3.main.js","sourcesContent":["import React from 'react';\n//import axios from 'axios';\nimport Card from '@material-ui/core/Card';\nimport {makeStyles} from '@material-ui/core/styles';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport PropTypes from 'prop-types';\nimport {getText} from '../../utils/Utils';\n//import AddIcon from '@material-ui/icons/Add';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport ObieeButtonOperation from '../../widgets/ObieeButtonOperation';\nimport validator from \"validator\";\nimport {UserContext} from '../../Context';\n\nconst useStyles = makeStyles(theme=>({\n    root: {\n        minWidth: 275,\n      },\n      bullet: {\n        display: 'inline-block',\n        margin: '0 2px',\n        transform: 'scale(0.8)',\n      },\n      title: {\n        fontSize: 14,\n      },\n      pos: {\n        marginBottom: 12,\n      },\n      formControl: {\n        margin: 0,\n        minWidth: 190,\n      },\n      cardContent:{\n        root:{\n          padding:0,\n          border:'none'\n        }\n      }\n}));\n\nexport default function ObieeItemApprole(props){\n\n    const classes = useStyles();\n\n    const{mode,onAdd,onEdit,onDelete,onCancel,onExternalEvent} = props;\n\n    const context = React.useContext(UserContext);\n\n    const [approleName,setApproleName] = React.useState(props.approle && mode!=='add' ? props.approle.name:'');\n    const [approleDesc,setApproleDesc] = React.useState(props.approle && mode!=='add' ? props.approle.description : '');\n    const [approleType,setApproleType] = React.useState(mode!=='add' && props.approle.baseRoles && props.approle.baseRoles.length>0 ? props.approle.baseRoles[0].name:'');\n    const [appType,setAppType] = React.useState(props.approle && mode!=='add' ? props.approle.type:'');\n    const [approleDisplayName,setApproleDisplayName] = React.useState(props.approle && mode!=='add' ? props.approle.displayName:'');\n\n    const strApproleDisplayName = getText('Approle Display Name');\n    const strApproleName = getText('Approle Name');\n    const strApproleType = getText('Application Role Type');\n    const strAppType = getText('Application Type');\n    const strApproleDesc = getText('Approle Desc');\n    const strSave = getText('Save');\n    //const strEdit = getText('Edit');\n    //const strDelete = getText('Delete');\n    const strCancel = getText('Cancel');\n\n    const createRow = () => {\n      const result = {\n        name: approleName  ,\n        displayName: approleDisplayName,\n        description: approleDesc,\n        appId: \"obi\",\n        type:appType,\n        baseRoles:[{name:approleType}]\n      };\n\n      return result;\n    }\n\n    function validation(){\n      if(approleName.length === 0 || \n         approleDisplayName.length === 0 ||\n         approleDesc.length === 0 ||\n         //appType.length === 0 ||\n         approleType.length === 0\n        )\n        return false;\n      \n        return true;\n    }\n    \n    return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardContent className={classes.cardContent.root}>\n      <Grid container spacing={1} >\n\n      {(mode==='add' || mode==='edit') && \n      <Grid item xs={12} md={12}>\n          <TextField  \n          label={strApproleName}\n          placeholder={strApproleName}\n          variant={\"outlined\"}\n          fullWidth\n          error={!validator.isAlpha(approleName, 'en-US')}\n          helperText={!validator.isAlpha(approleName, 'en-US') ? getText('Input Failed'):null}\n          disabled={mode==='edit'}\n          value={approleName}\n          onChange={(e)=>setApproleName(e.target.value)}\n          />\n      </Grid>\n      }\n\n      {mode==='read' && \n      <Grid item xs={12} md={3}>\n            <Typography  \n            variant=\"h6\"\n            component=\"span\"\n            >{approleName}</Typography>\n        </Grid>\n      }\n\n      {(mode==='add' || mode==='edit') && \n      <Grid item xs={12} md={12}>\n            <TextField  \n            label={strApproleDisplayName}\n            placeholder={strApproleDisplayName}\n            variant={\"outlined\"}\n            fullWidth\n            error={!validator.isAlpha(approleDisplayName, 'fa-IR') && !validator.contains(approleDisplayName,' ')}\n            helperText={!validator.isAlpha(approleDisplayName, 'fa-IR') && !validator.contains(approleDisplayName,' ') ? getText('Input Failed'):null}\n            value={approleDisplayName}\n            onChange={e=>setApproleDisplayName(e.target.value)}\n            />\n        </Grid>\n      }\n\n      {mode==='read' && \n      <Grid item xs={12} md={3}>\n            <Typography  \n            variant=\"h6\"\n            component=\"span\"\n            >{approleDisplayName}</Typography>\n        </Grid>\n      }\n\n      {/* {(mode==='add' || mode==='edit') && \n        <Grid item xs={12} md={6}>\n        <FormControl variant=\"outlined\" fullWidth className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-outlined-label\">{strAppType}</InputLabel>\n        <Select\n          //labelId=\"demo-simple-select-outlined-label\"\n          //id=\"demo-simple-select-outlined\"\n          value={appType}\n          onChange={(e)=>{setAppType(e.target.value)}}\n          label={strAppType}\n        >\n          <MenuItem value={'BI'}>{getText('BI Publisher')}</MenuItem>\n          <MenuItem value={'AN'}>{getText('Analytics')}</MenuItem>\n        </Select>\n      </FormControl>\n      </Grid>\n      } */}\n\n      {/* {mode==='read' &&\n      <Grid item xs={12} md={3}>\n            <Typography  \n            variant=\"h6\"\n            component=\"span\"\n            >{strAppType}</Typography>\n        </Grid>\n      } */}\n\n      {(mode==='add' || mode==='edit') &&\n        <Grid item xs={12} md={12}>\n        <FormControl variant=\"outlined\" fullWidth className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-outlined-label\">{strApproleType}</InputLabel>\n        <Select\n          //labelId=\"demo-simple-select-outlined-label\"\n          //id=\"demo-simple-select-outlined\"\n          value={approleType}\n          onChange={(e)=>{setApproleType(e.target.value)}}\n          label={strApproleType}\n        >\n          {/* <MenuItem value={'author'}>Author</MenuItem> */}\n          <MenuItem value={'BIConsumer'}>{getText('Consumer')}</MenuItem>\n          {/* <MenuItem value={'BIServiceAdministrator'}>Admin</MenuItem> */}\n          <MenuItem value={'BIContentAuthor'}>{getText('Content Author')}</MenuItem>\n        </Select>\n      </FormControl>\n        </Grid>\n      }\n\n      {mode==='read' && \n      <Grid item xs={12} md={3}>\n            <Typography  \n            variant=\"h6\"\n            component=\"span\"\n            >{approleType}</Typography>\n      </Grid>\n      }      \n\n      {(mode==='add' || mode==='edit') &&\n        <Grid item xs={12} md={12}>\n            <TextField  \n            label={strApproleDesc}\n            placeholder={strApproleDesc}\n            variant={\"outlined\"}\n            fullWidth\n            value={approleDesc}\n            onChange={(e)=>setApproleDesc(e.target.value)}\n            />\n        </Grid>\n      } \n\n\n      {/* {mode==='read' &&\n      <Grid item xs={12} md={3}>\n      <IconButton \n          type=\"submit\" \n          className={classes.iconButton} \n          aria-label=\"edit\" \n          onClick={()=>onExternalEvent(props.approle)}\n          > \n          <EditIcon />\n          </IconButton>\n\n          <IconButton \n          type=\"submit\" \n          className={classes.iconButton} \n          aria-label=\"delete\" \n          onClick={()=>{onDelete(approleName)}}\n          >\n          <DeleteIcon />\n          </IconButton>                    \n      </Grid>\n      } */}\n\n      </Grid>\n\n      </CardContent>\n\n      <CardActions>\n      <Grid spacing={0} container>\n        <Grid item xs={12} md={2}>\n        {(mode==='add' || mode==='edit') &&\n          <ObieeButtonOperation type='button' onExecute={onCancel} title={strCancel} />         \n        }\n        </Grid>\n        <Grid item xs={12} md={2}>\n        {mode==='add' &&\n        <ObieeButtonOperation type='button' onExecute={()=>\n          {\n            if(validation())\n              onAdd(createRow());\n            else \n              context.obieeDispatch({type:'show_message',messageToShow:{type:'error',message:getText('Input Failed')}});\n          }} title={strSave} />\n        }\n        {mode==='edit' &&    \n          <ObieeButtonOperation type='button' onExecute={()=>\n            {\n              if(validation())\n                onEdit(createRow());\n              else \n                context.obieeDispatch({type:'show_message',messageToShow:{type:'error',message:getText('Input Failed')}});\n            }} title={strSave} />        \n        }\n        </Grid>\n      </Grid>\n      </CardActions>\n\n    </Card>\n    )\n}\n\nObieeItemApprole.propTypes ={\n    mode: PropTypes.oneOf(['read','add','edit']).isRequired,\n}\n"],"sourceRoot":""}