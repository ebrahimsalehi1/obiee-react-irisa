{"version":3,"sources":["webpack:///./src/hoc/Security/ObieeItemApprole.js"],"names":["useStyles","makeStyles","theme","root","minWidth","bullet","display","margin","transform","title","fontSize","pos","marginBottom","formControl","cardContent","padding","border","ObieeItemApprole","props","classes","mode","onAdd","onEdit","onCancel","onDelete","context","onExternalEvent","React","useContext","UserContext","useState","approle","name","approleName","setApproleName","description","approleDesc","setApproleDesc","baseRoles","length","approleType","setApproleType","type","appType","displayName","approleDisplayName","setApproleDisplayName","strApproleDisplayName","getText","strApproleName","strApproleType","strApproleDesc","strSave","strCancel","createRow","appId","validation","className","variant","container","spacing","item","xs","md","label","placeholder","fullWidth","error","validator","isAlpha","helperText","disabled","value","onChange","e","target","component","id","onExecute","obieeDispatch","messageToShow","message","propTypes","PropTypes","oneOf","isRequired"],"mappings":"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","file":"3.main.js","sourcesContent":["import React from 'react';\r\n//import axios from 'axios';\r\nimport Card from '@material-ui/core/Card';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport PropTypes from 'prop-types';\r\nimport {getText} from '../../utils/Utils';\r\n//import AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ObieeButtonOperation from '../../widgets/ObieeButtonOperation';\r\nimport validator from \"validator\";\r\nimport {UserContext} from '../../Context';\r\n\r\nconst useStyles = makeStyles(theme=>({\r\n    root: {\r\n        minWidth: 275,\r\n      },\r\n      bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.8)',\r\n      },\r\n      title: {\r\n        fontSize: 14,\r\n      },\r\n      pos: {\r\n        marginBottom: 12,\r\n      },\r\n      formControl: {\r\n        margin: 0,\r\n        minWidth: 190,\r\n      },\r\n      cardContent:{\r\n        root:{\r\n          padding:0,\r\n          border:'none'\r\n        }\r\n      }\r\n}));\r\n\r\nexport default function ObieeItemApprole(props){\r\n\r\n    const classes = useStyles();\r\n\r\n    const{mode,onAdd,onEdit,onDelete,onCancel,onExternalEvent} = props;\r\n\r\n    const context = React.useContext(UserContext);\r\n\r\n    const [approleName,setApproleName] = React.useState(props.approle && mode!=='add' ? props.approle.name:'');\r\n    const [approleDesc,setApproleDesc] = React.useState(props.approle && mode!=='add' ? props.approle.description : '');\r\n    const [approleType,setApproleType] = React.useState(mode!=='add' && props.approle.baseRoles && props.approle.baseRoles.length>0 ? props.approle.baseRoles[0].name:'');\r\n    const [appType,setAppType] = React.useState(props.approle && mode!=='add' ? props.approle.type:'');\r\n    const [approleDisplayName,setApproleDisplayName] = React.useState(props.approle && mode!=='add' ? props.approle.displayName:'');\r\n\r\n    const strApproleDisplayName = getText('Approle Display Name');\r\n    const strApproleName = getText('Approle Name');\r\n    const strApproleType = getText('Application Role Type');\r\n    const strAppType = getText('Application Type');\r\n    const strApproleDesc = getText('Approle Desc');\r\n    const strSave = getText('Save');\r\n    //const strEdit = getText('Edit');\r\n    //const strDelete = getText('Delete');\r\n    const strCancel = getText('Cancel');\r\n\r\n    const createRow = () => {\r\n      const result = {\r\n        name: approleName  ,\r\n        displayName: approleDisplayName,\r\n        description: approleDesc,\r\n        appId: \"obi\",\r\n        type:appType,\r\n        baseRoles:[{name:approleType}]\r\n      };\r\n\r\n      return result;\r\n    }\r\n\r\n    function validation(){\r\n      if(approleName.length === 0 || \r\n         approleDisplayName.length === 0 ||\r\n         approleDesc.length === 0 ||\r\n         //appType.length === 0 ||\r\n         approleType.length === 0\r\n        )\r\n        return false;\r\n      \r\n        return true;\r\n    }\r\n    \r\n    return (\r\n    <Card className={classes.root} variant=\"outlined\">\r\n      <CardContent className={classes.cardContent.root}>\r\n      <Grid container spacing={1} >\r\n\r\n      {(mode==='add' || mode==='edit') && \r\n      <Grid item xs={12} md={12}>\r\n          <TextField  \r\n          label={strApproleName}\r\n          placeholder={strApproleName}\r\n          variant={\"outlined\"}\r\n          fullWidth\r\n          error={!validator.isAlpha(approleName, 'en-US')}\r\n          helperText={!validator.isAlpha(approleName, 'en-US') ? getText('Input Failed'):null}\r\n          disabled={mode==='edit'}\r\n          value={approleName}\r\n          onChange={(e)=>setApproleName(e.target.value)}\r\n          />\r\n      </Grid>\r\n      }\r\n\r\n      {mode==='read' && \r\n      <Grid item xs={12} md={3}>\r\n            <Typography  \r\n            variant=\"h6\"\r\n            component=\"span\"\r\n            >{approleName}</Typography>\r\n        </Grid>\r\n      }\r\n\r\n      {(mode==='add' || mode==='edit') && \r\n      <Grid item xs={12} md={12}>\r\n            <TextField  \r\n            label={strApproleDisplayName}\r\n            placeholder={strApproleDisplayName}\r\n            variant={\"outlined\"}\r\n            fullWidth\r\n            error={!validator.isAlpha(approleDisplayName, 'fa-IR')}\r\n            helperText={!validator.isAlpha(approleDisplayName, 'fa-IR') ? getText('Input Failed'):null}\r\n            value={approleDisplayName}\r\n            onChange={e=>setApproleDisplayName(e.target.value)}\r\n            />\r\n        </Grid>\r\n      }\r\n\r\n      {mode==='read' && \r\n      <Grid item xs={12} md={3}>\r\n            <Typography  \r\n            variant=\"h6\"\r\n            component=\"span\"\r\n            >{approleDisplayName}</Typography>\r\n        </Grid>\r\n      }\r\n\r\n      {/* {(mode==='add' || mode==='edit') && \r\n        <Grid item xs={12} md={6}>\r\n        <FormControl variant=\"outlined\" fullWidth className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-outlined-label\">{strAppType}</InputLabel>\r\n        <Select\r\n          //labelId=\"demo-simple-select-outlined-label\"\r\n          //id=\"demo-simple-select-outlined\"\r\n          value={appType}\r\n          onChange={(e)=>{setAppType(e.target.value)}}\r\n          label={strAppType}\r\n        >\r\n          <MenuItem value={'BI'}>{getText('BI Publisher')}</MenuItem>\r\n          <MenuItem value={'AN'}>{getText('Analytics')}</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      </Grid>\r\n      } */}\r\n\r\n      {/* {mode==='read' &&\r\n      <Grid item xs={12} md={3}>\r\n            <Typography  \r\n            variant=\"h6\"\r\n            component=\"span\"\r\n            >{strAppType}</Typography>\r\n        </Grid>\r\n      } */}\r\n\r\n      {(mode==='add' || mode==='edit') &&\r\n        <Grid item xs={12} md={12}>\r\n        <FormControl variant=\"outlined\" fullWidth className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-outlined-label\">{strApproleType}</InputLabel>\r\n        <Select\r\n          //labelId=\"demo-simple-select-outlined-label\"\r\n          //id=\"demo-simple-select-outlined\"\r\n          value={approleType}\r\n          onChange={(e)=>{setApproleType(e.target.value)}}\r\n          label={strApproleType}\r\n        >\r\n          {/* <MenuItem value={'author'}>Author</MenuItem> */}\r\n          <MenuItem value={'BIConsumer'}>{getText('Consumer')}</MenuItem>\r\n          {/* <MenuItem value={'BIServiceAdministrator'}>Admin</MenuItem> */}\r\n          <MenuItem value={'BIContentAuthor'}>{getText('Content Author')}</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n        </Grid>\r\n      }\r\n\r\n      {mode==='read' && \r\n      <Grid item xs={12} md={3}>\r\n            <Typography  \r\n            variant=\"h6\"\r\n            component=\"span\"\r\n            >{approleType}</Typography>\r\n      </Grid>\r\n      }      \r\n\r\n      {(mode==='add' || mode==='edit') &&\r\n        <Grid item xs={12} md={12}>\r\n            <TextField  \r\n            label={strApproleDesc}\r\n            placeholder={strApproleDesc}\r\n            variant={\"outlined\"}\r\n            fullWidth\r\n            value={approleDesc}\r\n            onChange={(e)=>setApproleDesc(e.target.value)}\r\n            />\r\n        </Grid>\r\n      } \r\n\r\n\r\n      {/* {mode==='read' &&\r\n      <Grid item xs={12} md={3}>\r\n      <IconButton \r\n          type=\"submit\" \r\n          className={classes.iconButton} \r\n          aria-label=\"edit\" \r\n          onClick={()=>onExternalEvent(props.approle)}\r\n          > \r\n          <EditIcon />\r\n          </IconButton>\r\n\r\n          <IconButton \r\n          type=\"submit\" \r\n          className={classes.iconButton} \r\n          aria-label=\"delete\" \r\n          onClick={()=>{onDelete(approleName)}}\r\n          >\r\n          <DeleteIcon />\r\n          </IconButton>                    \r\n      </Grid>\r\n      } */}\r\n\r\n      </Grid>\r\n\r\n      </CardContent>\r\n\r\n      <CardActions>\r\n      <Grid spacing={0} container>\r\n        <Grid item xs={12} md={2}>\r\n        {(mode==='add' || mode==='edit') &&\r\n          <ObieeButtonOperation type='button' onExecute={onCancel} title={strCancel} />         \r\n        }\r\n        </Grid>\r\n        <Grid item xs={12} md={2}>\r\n        {mode==='add' &&\r\n        <ObieeButtonOperation type='button' onExecute={()=>\r\n          {\r\n            if(validation())\r\n              onAdd(createRow());\r\n            else \r\n              context.obieeDispatch({type:'show_message',messageToShow:{type:'error',message:getText('Input Failed')}});\r\n          }} title={strSave} />\r\n        }\r\n        {mode==='edit' &&    \r\n          <ObieeButtonOperation type='button' onExecute={()=>\r\n            {\r\n              if(validation())\r\n                onEdit(createRow());\r\n              else \r\n                context.obieeDispatch({type:'show_message',messageToShow:{type:'error',message:getText('Input Failed')}});\r\n            }} title={strSave} />        \r\n        }\r\n        </Grid>\r\n      </Grid>\r\n      </CardActions>\r\n\r\n    </Card>\r\n    )\r\n}\r\n\r\nObieeItemApprole.propTypes ={\r\n    mode: PropTypes.oneOf(['read','add','edit']).isRequired,\r\n}\r\n"],"sourceRoot":""}